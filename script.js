// Blog data
const blogPosts = [
    {
        id: 1,
        title: "Tentang Saya",
        excerpt: " nama gua Rasya Ikhsan Firdaus biasa dipanggil Ican atau Aca.",
        category: "lifestyle",
        date: "26 February 2025",
        author: "Ican",
        image: "img/ican-1.jpg",
        content: `
            <h3>Tentang Saya</h3>
            <p>Yap nama gua Rasya Ikhsan Firdaus biasa dipanggil Ican atau Aca , gua adalah seorang Siswa Kelas 11 di salah satu sekolah di bandar lampung tepatnya di SMAN 7 Bandar Lampung, </p>
            
            
            <p>gua tinggal di kemiling dan dari lahir disini , jadi wajar aja kalo gw sekolah di 7 , dan dari TK-SMP pun gw sekolah disini , hobi gua itu sih main Futsal dan Nonton Bola yap gw adalah penikmat bola sejati gua sangat suka nonton bola gatau juga kenapa dan malu untuk mengakuinya GUA ADALAH FANS EMYU yah menyedihkan memang terlahir sebagai fans emyu tapi gapapa karena gua yakin Man United bakal kembali berjaya lagi  </p>
            <p> gua berasal dar keluarga yang ga kaya tapi juga ga kekurangan bapak gua bekerja sebagai polisi dan ibu gw sebagai ibu rumah tangga , yah keluarga menengah pada umumnya lah </p>
            

           `
    },
    {
        id: 2,
        title: "Impian",
        excerpt: "impian yaa , yah ini cukup berat sih bagi gua untuk di bahas, cita cita gua itu awalnya.",
        category: "lifestyle",
        date: "12 Januari 2022",
        author: "Ican",
        image: "img/ican-2.jpg",
        content: `
            <h3>Impian</h3>
            <p>impian yaa , yah ini cukup berat sih bagi gua untuk di bahas, cita cita gua itu awalnya adalah 
            menjadi polisi karena mau ngikut bapak gw tapi itu semua harus pupus karena gua harus menerima 
            fakta kalo gw itu buta warna dan anehnya bapak atau emak gw itu ga buta warna jadi mungkin ini dari nenek atau kakek gw.
            setelah gw tau hal ini , gua agak kesel karena menurut gw ini gak adil karena buta warna kan kondisi disabilitas
            dan bukan kemauan gw sendiri , yah tapi gapapa karena gua inget perkataan guru MTK gw "banyak jalan menuju roma" yah 
            kata kata itu sangat memotivasi gw , dan membuat gw berpikir bahwa ga harus jadi polisi masih banyak kok jalan menuju sukses itu
    akhirnya gua coba berkaca sama diri gw dan mulai mencari kelebihan gw itu apa , dan ternyata gw itu sangat tertarik dengan hal yang berbau komputer dan
    teknologi , dan pas banget temen sd gw dulu adalah Admin Grup yang anggotanya adalah Penggiat IT dan beruntungnya lagi semuanya 
    masih seumuran gw , gua pun putuskan buat masuk ke grup itu tapi gua harus di tampar kenyataan sekali lagi , hampir semua orang yang ada di grup ini itu adalah Programmer
    dan gua cuman seseorang yang tertarik dengan teknologi , gua pun coba untuk merenung sekali lagi saat itu gua SMP kelas 7, gua coba mikir kok bisa sih anak anak smp ini udah bisa buat game , buat website dll ,
    mereka belajar darimana yah? ya coba bayangin aja anak smp kelas 7 udah bisa buat game dan bahkan gamenya dia saat itu di mainin sama youtuber terkenal Windah Basudara , wajar kan kalo gw ngeras heran 
    tapi gw ga di aja , gua tau gua udah kalah jauh dengan mereka , dan gua ga gengsi buat nanya , gua coba chat mereka satu satu untuk nanya mereka belajarnya dari mana , ternyata mereka itu otodidak cuman belajar dari video
    Youtube , gw kaget pas tau itu karena gua kira buat belajar IT itu harus bimbel yang mahal ternyata di youtube pun ada , dari situ gw mulai serius untuk mendalami IT dan sekali lagi gw cuman seorang bocah SMP kelas 7 
    pas gua coba belajar disinilah semua nya berubah anggapan gua salah tentang IT , gua kira IT itu ribet dan susah banget , ternyata IT ga semengerikan itu, 1 minggu gw belajar disini
    gua mulai ngerasa nyaman , baru 1 minggu gua udah bisa bikin websiter Portfolio gw sendiri dengan HTML CSS DAN JS murni dan gua bangga banget sama diri gua sendiri , gua kasih tau semua orang tentang 
    website hasil belajar gw ini , dan mereka semua pun kagum , dan mereka berfikir bahwa ini adalah hal yang luar biasa, padahal yang mereka gatau , ini mungkin cuman 2% yang baru gua pelajari , masih banyak
    sesuatu yang harus gua pelajari di kedepannya , gua yang ngira ini udah hal yang besar banget ternyata engga di dunia IT ngebuat website itu adalah hal yang Umum , akhirnya gua belajar lagi dan sebelum itu ternyata gua harus fokusin dulu
    gua mau belajar IT tentang apa , akhirnya gua cari lah Prospek Kerja Informatika gua kaget ternyata ada banyak banget ada cybersecurity, machineLearning, softwareengineering gamedeveloper dll 
dan gua tertarik dengan satu Prospek Kerja yaitu " Full Stack Developer " yap ini adalah profesi di Bidang IT yang cukup sulit tapi paling menjanjikan , kenapa ? okey gua akan jelasin
jadi di dunia programmer itu ada yang namanya Frontend developer yaitu orang yang merancang tampilan depan di sebuah program sesuai yang di minta oleh UI/UX Designer, dan ada juga Backend Developer yaitu orang yang merancang sebuah program dari belakang contohnya 
dia yang ngebuat database dan servernya , nahh Kalo Full Stack Developer dia itu orang yang bisa melakukan keduanya , jadi wajar kalo orang bilang ini profesi yang cukup sulit dan yang paling menjanjikan bayangin aja lu punya perusahaan dan lu mau ngebuat aplikasi dan lo butuh FrontendDev dan BackendDev, buat hire frontend lo butuh budget 10 juta dan backend 12 juta tapi tiba tiba ada yang dateng nawarin ke elu buat ngelakuin keduanya dengan harga 20 juta aja pasti lu bakal milih dia, yah kayak gitu lah andai andainya ,dan gua akui ini sulit tapi seperti yang guru gw bilang
<b> " Banyak Jalan Menuju Roma " </b> saat gua menulis ini , gw smp kelas 9 dan udah daftar di SMA , untuk sekarang gua masih belajar frontend yah setelah dua tahun gua masih belajar frontend harus nya sih ga selama ini yah cuman gara gara gua sambil sekolah jadinya gw belajarnya ga maksimal , mungkin di kelas 12 SMA nanti gua baru 
belajar backend
            
            
            </p>
            
            <h3>Jadi apa Impian GW ?</h3>
            <p>yah seperti yang kalian baca di atas Kalo Impian Gw adalah menjadi Full Stack Developer, dan gua sadar juga kalo gua tuh orangnya ga cocok kerja di lapangan 
            lebih cocok di kantor duduk sambil ngopi , hehehe.sebenernya gua masih ada impian lain sih yaitu menjadi Seorang Dokter Forensik atau Detektif , yah sebenarnya kedua hal itu bisa
            gw rasakan di kepolisian tapi sayangnya mimpi gua untuk menjadi Seorang Polisi sekaligus Dokter forensi harus pupus karena buta warna, mungkin ada yang bertanya kan bisa jadi Dokter Forensik aja gapapa ga jadi 
            polisi , yah itu emang bener tapi masalah utamanya walaupun gua suka dan sangat tertarik di Forensik gua itu gabisa ngeliat darah hahahaha emang aneh sih mau jadi dokter forensik tapi takut ngeliat darah. Jadi udah paling bener gua jadi Programmer aja </p>
            

            <h3>Mau masuk PTN mana ? </h3>
            <p>seperti yang kalian tau gw itu pengen jadi Programmer jadi gua harus ambil FTIK jurusan TI , dan gua udah sempet  searching "PTN mana yang jurusan informatika Paling Baik" dan keluar no 1 itu UI no 2 ITB dan no 3 nya ITS, dan kalian 
            mau tau ? gua pilih apa? yap gua pilih ITS ðŸ˜… gw harus bilang kalo gw adalah orang paling realistis di dunia haha, gua itu ga pinter pinter amat di sekolah di kelas aja gw itu rank 20an keatas , jadi gua harus sadar diri kalo UI/ITB itu ketinggian buat gw , dan masalahnya ITS juga terlalu tinggi buat gw ðŸ˜… tapi apakah gua menyerah? tentu tidak sekali lagi guru gua pernah
            bilang <b> " Banyak Jalan Menuju Roma " </b> gua harus berubah mumpung gw masih kelas 9 , dan kalo gua ga tembus ITS dapet UNILA dan ITERA pun gw alhamdulillah banget </p>
      `
    },
    {
        id: 3,
        title: "Kegalauan",
        excerpt: "Seperti yang kalian tau Cita cita gw itu menjadi Full stack developer",
        category: "lifestyle",
        date: "2 July 2025",
        author: "Ican",
        image: "img/ican-3.jpg",
        content: `
            <h3>kegalauan</h3>
            <p>Seperti yang kalian tau Cita cita gw itu menjadi Full stack developer , tapi saat itu gw masih SMP kelas 7 , dan saat itu
            Full Stack developer emang masih Wortit tapi setelah gua masuk SMA itu semua berubah , gua yang dulu bocah berfikir kalo jadi programmer itu enak dan pasti 
            bakalan gampang dapet kerja tapi ternyata ga segampang itu perkiraan Tech Winter bakal terus terjadi hingga 2030 dan Perkembangan AI itu bener bener gila 
            sebagai gambaran aja , gua belajar Frontend dari smp sampe kelas 11 SMA sekarang itu semua sekarang bisa di lakukan AI hanya dengan prompt, gua frustasi dengan hal ini
            di tambah dengan perkataan CEO NVIDIA <b> "Hambatan pemrograman sangat rendah. Kita telah menutup kesenjangan digital. Setiap orang sekarang adalah programmer - Anda hanya perlu mengatakan sesuatu kepada komputer," </b>
            kata kata ini tentu membuat gua stres , karena profesi impian gw ternyata mau ga mau akan di gantikan oleh AI , itu menjadi ketakutan terbesar gw tapii gua ga nyerah gua tau ini udah terlanjur
            jadi gw harus tetap lanjutin ini masa iya sih gw udah sejauh ini mau berhenti ? yaa engga dong , akhirnya gua mulai belajar lagi , dan ada satu hal yang bikin gw kembali semangat 
            saat gua belajar di youtube di channel favorit gw Namanya Dea Afrizal , bang dea bilang kalo kita itu ga perlu takut sama ai karena kalo kita coba buka mata kita 
            AI itu ga mengerikan itu , AI itu justru sangat membantu meringankan tugas programmer , dan dalem hati gua Bener juga AI emang bisa meringankan gw sebagai programmer , dan ada kata kata dari dia yang gua selalu inget
            <b> "Siapapun yang takut sama AI tidak akan bisa bertahan di insdustri ini Dan begitu sebaliknya yang bisa memanfaatkan AI akan menjadi orang paling berharga di industri ini"  </b>
         
            .</p>
            
            <h3>Pengen Masuk STAN</h3>
            <p>
            cita cita atau impian utama gw emang mau jadi Programmer , tapii itu adalah rencana utama gw , dan setiap plan pasti ada kemungkinan
            gagal ,gua udah kasih tau kan ke kalian kalo gw itu adalah orang paling realistis di dunia , jadi gua udah siapin Plan B gua itu kan awalnya pengen masuk Jurusan informatika di ITS 
            ya gaberubah sih gw tetep pengen kesana tapi setelah gua lihat masa depan programmer ini gajelas , gw pun mulai mencari rencana lain yaitu Kedinasan ,  karena kalo gw sekdin itu ga ribet 
            karena lulus bakal langsung kerja dan sekdin yang palis pas buat gw itu adalah STAN sebenarnya sih ga pas juga cuman karena ada toleransi Buta Warna aja , yahh lagi lagi buta warna menjadi masalah gw
            padahal menurut gw yang paling pas buat gw itu STSN yah tapi mau gimana ternyata jadi orang disabilitas itu ga enak , padahal kalo ga salah ada pasal nya tuh bunyinya <b> setiap orang berhak atas semua hak dan kebebasan yang tercantum dalam deklarasi tersebut tanpa perbedaan apapun </b>
            yaudahlah nasib tinggal di indonesia yaa gini , sekarang tugas gw hanya perlu Belajar dan Berdoa aja, jadi rencana gw setelah lulus kelas 12 ini yaitu SNBT buat ke ITS (aamiin) kalo emang masuk ke ITS mungkin gua gak akan nyoba STAN , tapii kalo gw dapetnya UNILA atau ITERA gw bakal nyoba buat daftar stan
            dah segitu aja sih kegalauan gw , Semangat guyss
            .</p>
            
         `
    },
    {
        id: 4,
        title: "AI dan Kedepannya",
        excerpt: "gua itu sempet panik dengan berkembangan AI yang makin menggila",
        category: "teknologi",
        date: "8 July 2025",
        author: "Ican",
        image: "https://i.pinimg.com/1200x/38/5e/d7/385ed712e43c1db062f3d62f0de0b2a8.jpg",
        content: `
            <h3>AI?</h3>
            <p> gua itu sempet panik dengan berkembangan AI yang makin menggila , dan itu membuat gw hampir 
            berhenti untuk melanjutkan impian gw sebagai Programmer tapi setelah gua renungkan ternyata kita harusnya 
            ga perlu takut dengan AI , emang bener AI itu sekarnag udah bisa ngebuat website dengan hitungan detik cuman modal prompt, tapi 
            harusnya kita berfikir lebih jauh , kalo kita ngerti tentang kekuatan ai kita bisa kok jadi kan AI ini sebagai asisten kita , contohnnya
            AI bisa jadikan sebuah Debugging dan Pencarian Bug , bisa juga kita jadikan sebagi tempat bertanya saat sedang troubleshooting dan masih banyak lagi.
            jadi kita sebenarnya gaperlu takut dengan AI , dan perlu di ingat juga dengan adanya AI bukan berarti kita bisa nyantai nyantai , tapi harus kebalikannya
            dengan hadir AI harusnya bisa membuat kita termotivasi untuk terus belajar , karena kalo kita ga belajar dan beradaptasi dengan perkembangan ini mau gamau kita 
            akan tergantikan . sebagai programmer kita harus berada selangkah lebih depan dari orang lain dalam hal teknologi , jadi perdalam aja skill kita. <br>

            <b>( hehehe anak kelas 11 sma udah ngerasa paling ngerti ) </b>
            
            .</p>
            
            `
    },
    {
        id: 5,
        title: "Apa itu Javascript dan Python",
        excerpt: "apa sih javascript itu ? okey gw ga akan jelaskan dengan bahasa yang ribet.",
        category: "tutorial",
        date: "5 september 2024",
        author: "Ican",
        image: "https://i.pinimg.com/1200x/6f/b8/0f/6fb80f437470da56071f127325fb8f62.jpg",
        content: `
            <h3>Javascript Dan Python ?</h3>
            <p>gua ican Anak kelas 11 SMA , kali ini gua ingin berbagi pengetahuan gua tentang Bahasa pemrograman , apa sih Bahasa Pemrograman itu ? 
            jadi Bahasa Pemrograman adalah cara bagi manusia untuk berkomunikasi dengan komputer agar komputer dapat melakukan tugas-tugas tertentu. Paham Kan.
            buat kalian para pemula gua ada rekomendasi Bahasa Pemrograman yang bisa kalian pelajari di awal , yaitu Python dan Javascript pasti kalian pernah 
            denger kan ini sih Duo Sakti di dunia komputer , kenapa disebut duo sakti ? karena ini adalah bahasa paling mudah tapi juga sangat powerfull dan cocok banget
            buat pemula
            </p>
            
            <h3>JAVASCRIPT ??</h3>
            <p>apa sih javascript itu ? okey gw ga akan jelaskan dengan bahasa yang ribet simpelnya gini
            Bayangin,lo lagi bikin maket rumah dari kardus.

HTML itu kerangka rumahnya (tembok, atap, pintu).

CSS itu cat, hiasan, dan perabotannya (biar rumahnya cakep).

Nah, JavaScript ini listrik dan perangkat elektroniknya!

Tanpa JavaScript, rumah maketlo itu diem aja. Tapi begitu lo "pasang" JavaScript, lo bisa bikin lampunya nyala-mati, pintunya kebuka sendiri pas ada yang deketin, atau bahkan ada musik yang main pas jendelanya dibuka.

Keren, kan?

Itulah kerjaan JavaScript di dunia website. Dia yang bikin website jadi interaktif. Contohnya:

Pas lo klik tombol "Like" di Instagram dan tombolnya langsung berubah warna.

Waktu kamu lihat notifikasi pop-up "lo punya pesan baru!".

Ngisi formulir pendaftaran dan langsung muncul tulisan "Email tidak valid!" tanpa loading.

Jadi, kalo lo mau fokus bikin website yang keren, interaktif, dan modern, JavaScript itu wajib lo kuasai. Dia ini "nyawa"-nya halaman web.
            
            
            .</p>
            
            <h3>Python ??</h3>
            <p>
            Nah, kalo JavaScript itu spesialisnya website, Python ini kayak kunci Inggris serbaguna. 
            Dia bisa dipake buat macem-macem hal dan yang paling penting, 
            bahasanya super gampang dibaca, mirip kayak bahasa Inggris biasa. <br>

            sangking gampangnya liat lah ini <br>

          '  print("Halo Dunia") ' <br>
            dia bakal langsung otomatis nampilin "halo dunia" di website , jadi gampang banget kan ,
            Karena gampang dan fleksibel, Python dipake di banyak bidang, misalnya:

Bikin Robot atau AI (Kecerdasan Buatan): Otaknya mobil tanpa sopir atau algoritma rekomendasi film di Netflix itu banyak dibuat pake Python.

Analisis Data: Anak-anak kuliahan jurusan data atau para ilmuwan sering pake Python buat ngolah angka-angka seabrek dan nemuin pola yang menarik.

Bikin Aplikasi di Balik Layar (Backend): Tahu Instagram atau Spotify? Sebagian besar sistem di belakang layar mereka dibangun pake Python, lho.

Bikin Game Simpel: Bisa juga kok buat bikin game-game sederhana.

Jadi, kalau lo suka mecahin masalah, suka sama data, atau pengen bikin program canggih di luar website, Python ini mantep banget dah.
            .</p>


        `
    },
    {
        id: 6,
        title: "Misi Membuat Robot",
        excerpt: "Fitur-fitur terbaru JavaScript yang akan mengubah cara kita coding.",
        category: "teknologi",
        date: "13 July 2025",
        author: "Admin",
        image: "https://images.pexels.com/photos/11035380/pexels-photo-11035380.jpeg?auto=compress&cs=tinysrgb&w=800",
        content: `
          <h2>Misi (Agak) Gila: Bikin Robot Pertama Cuma Modal 300 Ribu! &#x1F916;</h2>

    <p>
        Yo, <em>what's up, guys</em>!
    </p>

    <p>
        Gua lagi keracunan parah nih sama dunia robotika. Seriusan. Tiap liat video di YouTube orang bikin robot yang bisa jalan sendiri, rasanya tangan ini gatel pengen ikutan ngoprek. Masalahnya cuma satu: dompet tipis sebagai anak sma, hehe.
    </p>

    <p>
        Tapi masa gara-gara duit jadi alesan buat gak berkarya? Enggak dong. Setelah riset sana-sini, <em>scroll</em> Tokopedia berjam-jam, gua bikin sebuah rencana. Sebuah misi yang agak gila: <strong>Gua bakal bikin robot pertama gua dengan budget maksimal Rp 300.000!</strong>
    </p>

    <p>
        Bisa gak ya? Mari kita bedah bareng-bareng rencana gua!
    </p>

    <hr>

    <h4>Robot Macam Apa yang Mau Dibuat?</h4>
    <p>
        Oke, dengan budget segitu, jangan ngarep bikin Iron Man dulu ya, haha. Target gua realistis aja: bikin <strong>Robot Penghindar Halangan</strong> (<em>Obstacle Avoiding Robot</em>).
    </p>
    <p>
        Konsepnya simpel banget: robot ini bakal punya roda buat jalan, dan "mata" di bagian depan. Kalo "matanya" ngeliat ada tembok atau halangan di depannya, dia bakal otomatis berhenti, mundur dikit, terus belok cari jalan lain. Keren, kan? Kayak punya peliharaan digital yang bisa keliling kamar sendiri.
    </p>

    <hr>

    <h4>Daftar Belanjaan & Perkiraan Harga</h4>
    <p>
        Ini nih bagian paling krusial. Gua udah bikin daftar komponen wajib dan perkiraan harganya biar gak jebol:
    </p>
    <ul>
        <li>
            <strong>Otak (Microcontroller): Arduino Nano</strong><br>
            Ini otaknya si robot. Semua logika "kalo liat tembok, belok" bakal diprogram di sini. Kenapa Nano? Soalnya kecil dan lebih murah dari Arduino Uno.<br>
            <em>Perkiraan Harga: Rp 55.000</em>
        </li>
        <li>
            <strong>Mata (Sensor): Sensor Ultrasonik HC-SR04</strong><br>
            Ini dia si mata canggih. Dia bisa nembakin sinyal suara (yang gak kedengeran sama kita) dan nangkep pantulannya buat ngukur jarak benda di depannya.<br>
            <em>Perkiraan Harga: Rp 12.000</em>
        </li>
        <li>
            <strong>Badan & Kaki (Chassis & Motor)</strong><br>
            Gua bakal beli <strong>Akrilik Chassis Kit 2WD (2 Wheel Drive)</strong>. Biasanya di dalem paket ini udah dapet: papan akrilik, 2 Motor DC + Roda, dan 1 Roda Gila (<em>Caster Wheel</em>).<br>
            <em>Perkiraan Harga: Rp 60.000</em>
        </li>
        <li>
            <strong>Pengatur Otot (Motor Driver): L298N</strong><br>
            Motor DC itu gak bisa langsung dicolok ke Arduino, dayanya kurang. Jadi butuh modul ini buat jembatan antara si "otak" dan "kaki". Dia yang ngatur motor mau muter maju atau mundur.<br>
            <em>Perkiraan Harga: Rp 15.000</em>
        </li>
        <li>
            <strong>Sumber Tenaga (Power): Tempat Baterai AA (4 Slot)</strong><br>
            Robot butuh energi buat hidup, kan? Gua bakal pake 4 baterai AA biasa. Beli tempatnya aja yang murah meriah.<br>
            <em>Perkiraan Harga: Rp 5.000</em> (Baterainya beli di warung, hehe)
        </li>
        <li>
            <strong>Urat Saraf (Kabel): Kabel Jumper Male-to-Female & Male-to-Male</strong><br>
            Buat nyambungin semua komponen tadi. Wajib punya!<br>
            <em>Perkiraan Harga: Rp 20.000</em>
        </li>
    </ul>

    <hr>

    <h4>Total Kerusakan:</h4>
    <p>
        Coba kita itung ya...<br>
        55rb + 12rb + 60rb + 15rb + 5rb + 20rb = <strong>Rp 167.000</strong>
    </p>
    <p>
        Gila! Totalnya bahkan <strong>gak nyampe 200 ribu!</strong>
    </p>
    <p>
        Artinya, gua punya sisa budget lebih dari 100 ribu. Ini bisa buat ongkir, beli baterai yang bagusan, beli <em>breadboard</em> buat ngetes rangkaian, atau mungkin nambah sensor lagi nanti. Rencana ini keliatan sangat mungkin berhasil!
    </p>
    
    <hr>

    <h4>Langkah Selanjutnya Gimana?</h4>
    <ol>
        <li><strong>Checkout Keranjang!</strong> Ini langkah pertama, belanja semua barang di atas.</li>
        <li><strong>Ngerakit Fisiknya.</strong> Pasang motor dan roda ke chassis akrilik.</li>
        <li><strong>Ngerangkai Elektroniknya.</strong> Sambungin semua komponen pake kabel jumper sesuai diagram yang gua cari di internet. Ini bagian yang paling bikin deg-degan.</li>
        <li><strong>Ngoding!</strong> Masukin kode program ke Arduino biar si robot pinter.</li>
        <li><strong>Tes & Doa.</strong> Semoga pas dinyalain gak ada asep ngebul, hahaha.</li>
    </ol>

    <p>
        Gimana menurut lo? Keliatannya seru banget kan? Gua bakal <em>update</em> lagi perkembangannya nanti pas barangnya udah dateng. Doain misi gila ini berhasil ya!
    </p>
   
    <p>
        <em>Peace out!</em>
    </p> `
    }
];

// State management
let currentPosts = [...blogPosts];
let displayedPosts = 3;
let currentFilter = 'all';

// DOM elements
const blogGrid = document.getElementById('blogGrid');
const loadMoreBtn = document.getElementById('loadMoreBtn');
const searchInput = document.getElementById('searchInput');
const filterButtons = document.querySelectorAll('.filter-btn');
const navToggle = document.querySelector('.nav-toggle');
const navMenu = document.querySelector('.nav-menu');
const navLinks = document.querySelectorAll('.nav-link');
const modal = document.getElementById('articleModal');
const modalBody = document.getElementById('modalBody');
const closeModal = document.querySelector('.close');

// Initialize the application
document.addEventListener('DOMContentLoaded', function () {
    renderBlogPosts();
    setupEventListeners();
    setupSmoothScrolling();
});

// Render blog posts
function renderBlogPosts() {
    const postsToShow = currentPosts.slice(0, displayedPosts);

    blogGrid.innerHTML = postsToShow.map(post => `
        <article class="blog-card" data-category="${post.category}" data-id="${post.id}">
            <img src="${post.image}" alt="${post.title}" class="blog-image">
            <div class="blog-content">
                <span class="blog-category">${getCategoryName(post.category)}</span>
                <h3 class="blog-title">${post.title}</h3>
                <p class="blog-excerpt">${post.excerpt}</p>
                <div class="blog-meta">
                    <span>${post.date}</span>
                    <span>By ${post.author}</span>
                </div>
            </div>
        </article>
    `).join('');

    // Update load more button
    if (displayedPosts >= currentPosts.length) {
        loadMoreBtn.style.display = 'none';
    } else {
        loadMoreBtn.style.display = 'inline-block';
    }

    // Add click listeners to blog cards
    document.querySelectorAll('.blog-card').forEach(card => {
        card.addEventListener('click', function () {
            const postId = parseInt(this.dataset.id);
            openArticleModal(postId);
        });
    });
}

// Get category display name
function getCategoryName(category) {
    const categoryNames = {
        'teknologi': 'Teknologi',
        'lifestyle': 'Lifestyle',
        'tutorial': 'Tutorial'
    };
    return categoryNames[category] || category;
}

// Setup event listeners
function setupEventListeners() {
    // Mobile menu toggle
    navToggle.addEventListener('click', function () {
        navMenu.classList.toggle('active');
        navToggle.classList.toggle('active');
    });

    // Close mobile menu when clicking nav links
    navLinks.forEach(link => {
        link.addEventListener('click', function () {
            navMenu.classList.remove('active');
            navToggle.classList.remove('active');

            // Update active link
            navLinks.forEach(l => l.classList.remove('active'));
            this.classList.add('active');
        });
    });

    // Search functionality
    searchInput.addEventListener('input', function () {
        const searchTerm = this.value.toLowerCase();
        filterPosts(currentFilter, searchTerm);
    });

    // Filter buttons
    filterButtons.forEach(button => {
        button.addEventListener('click', function () {
            // Update active filter button
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');

            currentFilter = this.dataset.category;
            const searchTerm = searchInput.value.toLowerCase();
            filterPosts(currentFilter, searchTerm);
        });
    });

    // Load more button
    loadMoreBtn.addEventListener('click', function () {
        displayedPosts += 3;
        renderBlogPosts();
    });

    // Modal functionality
    closeModal.addEventListener('click', closeArticleModal);

    window.addEventListener('click', function (event) {
        if (event.target === modal) {
            closeArticleModal();
        }
    });

    // Contact form
    const contactForm = document.querySelector('.contact-form');
    contactForm.addEventListener('submit', function (e) {
        e.preventDefault();
        alert('Terima kasih! Pesan Anda telah terkirim.');
        this.reset();
    });

    // Header scroll effect
    window.addEventListener('scroll', function () {
        const header = document.querySelector('.header');
        if (window.scrollY > 100) {
            header.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
            header.style.backdropFilter = 'blur(10px)';
        } else {
            header.style.backgroundColor = '#ffffff';
            header.style.backdropFilter = 'none';
        }
    });
}

// Filter posts
function filterPosts(category, searchTerm = '') {
    currentPosts = blogPosts.filter(post => {
        const matchesCategory = category === 'all' || post.category === category;
        const matchesSearch = searchTerm === '' ||
            post.title.toLowerCase().includes(searchTerm) ||
            post.excerpt.toLowerCase().includes(searchTerm);

        return matchesCategory && matchesSearch;
    });

    displayedPosts = 3;
    renderBlogPosts();
}

// Open article modal
function openArticleModal(postId) {
    const post = blogPosts.find(p => p.id === postId);
    if (!post) return;

    modalBody.innerHTML = `
        <h2 class="modal-title">${post.title}</h2>
        <div class="modal-meta">
            <span class="blog-category">${getCategoryName(post.category)}</span>
            <span>${post.date} â€¢ By ${post.author}</span>
        </div>
        <div class="modal-body">
            ${post.content}
        </div>
    `;

    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

// Close article modal
function closeArticleModal() {
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Setup smooth scrolling
function setupSmoothScrolling() {
    // Handle navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));

            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}

// Intersection Observer for animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
};

const observer = new IntersectionObserver(function (entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe elements for scroll animations
window.addEventListener('load', function () {
    const elementsToAnimate = document.querySelectorAll('.blog-card, .section-title, .about-content, .contact-content');

    elementsToAnimate.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
});

// Add scroll-to-top functionality
function addScrollToTop() {
    const scrollBtn = document.createElement('button');
    scrollBtn.innerHTML = 'â†‘';
    scrollBtn.className = 'scroll-to-top';
    scrollBtn.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #2563eb;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 20px;
        display: none;
        z-index: 1000;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    `;

    document.body.appendChild(scrollBtn);

    window.addEventListener('scroll', function () {
        if (window.pageYOffset > 300) {
            scrollBtn.style.display = 'block';
        } else {
            scrollBtn.style.display = 'none';
        }
    });

    scrollBtn.addEventListener('click', function () {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
}

// Initialize scroll to top
addScrollToTop();
